@*@model AppynittyWebApp.ViewModels.NewsRplyVM*@

@{
    ViewData["Title"] = "Details";
    Layout = "_AdminLayout";
}

<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<link href="//cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css" rel="stylesheet" />
<style>
    .danger {
        color: red !important;
    }

    .success {
        color: green !important;
    }
</style>
<h1 style="text-align:center;">News Reply List</h1>

<div class="form-group">
    <a class="btn btn-danger" asp-action="Index">Back</a>
</div>
<input id="NewsId" type="hidden" value="@TempData["NewsId"]" />
<div class="container">
    <br />
    <div style="width:90%; margin:0 auto;">
        <table id="example" class="table table-striped table-bordered dt-responsive nowrap" width="100%" cellspacing="0">
            <thead>
                <tr>
                    <th> Date </th>
                    <th> Name </th>
                    <th> News Title </th>
                    <th> Email </th>
                    <th>Mobile Number </th>
                    <th>Comment </th>

                </tr>
            </thead>
        </table>
    </div>
</div>

@section Scripts{
    <script src="//cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
    <script>
        $(document).ready(function () {
            debugger;
            var id = document.getElementById("NewsId").value;
            $('#example').DataTable({
                ajax: {
                    url: "LoadNewsReplyData?Id=" + id,
                    type: "POST",
                },
                processing: true,
                serverSide: true,
                filter: true,
                columns: [

                   /* { data: "date", name: "Date" },*/
                    {
                        "data": "date",
                        "render": function (data) {
                            var date = new Date(data);
                            var month = date.getMonth() + 1;
                            var hours = date.getHours();
                            var minutes = date.getMinutes();
                            var ampm = hours >= 12 ? 'pm' : 'am';
                            hours = hours % 12;
                            hours = hours ? hours : 12; // the hour '0' should be '12'
                            minutes = minutes < 10 ? '0' + minutes : minutes;

                            return date.getDate() + "/" + (month.toString().length > 1 ? month : "0" + month) + "/" + date.getFullYear() + "  " + hours + ':' + minutes + ' ' + ampm;
                        }
                    },
                    { data: "name", name: "Name" },
                    { data: "newsTitle", name: "NewsTitle" },
                    { data: "email", name: "Email" },
                    { data: "mobile_No", name: "Mobile_No" },
                    { data: "comment", name: "Comment" },
                   
                ]
            })

        });


    </script>
}
