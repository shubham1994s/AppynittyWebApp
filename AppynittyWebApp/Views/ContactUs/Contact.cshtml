@model AppynittyWebApp.Models.ContactU
@{
    ViewData["Title"] = "Contact";
}
<link href="~/Assets/CSS/Contact.css" rel="stylesheet" />
<style>

    #pics {
        /*background: #fff;
    box-shadow: 0px 0px 20px #999;
    border: 2px solid #ddd;
    */
        padding: 10px;
        float: left;
        font-size: 1.2em;
        position: fixed;
        top: 50%;
        left: 50%;
        z-index: 99999;
    }

    #picOne, #picTwo {
        position: absolute;
        display: none;
    }

    .error {
        display: none;
        margin-left: 10px;
    }

    .error_show {
        color: Crimson;
        margin-left: 10px;
        font-family: "Helvetica";
    }
</style>
<section class="contact-main">
    <div class="contact-section">
        <div class="half">
            <div class="left">
                <div class="section">
                    <div class="product-img">
                        <picture>
                            <source media="(max-width: 480px)" srcset="~/Assets/Images/Contact/contact_us@768.gif">
                            <source media="(max-width: 1199px)" srcset="~/Assets/Images/Contact/contact_us@1199.gif">
                            <img class="img img-responsive" src="~/Assets/Images/Contact/contact_us.gif" alt="Mobile Apps Development Company">
                        </picture>
                    </div>

                </div>
            </div>
        </div>
        <div class="half">
            <div class="right bg-appy">
                <div class="section">
                    <div>
                        <div class="top-text">
                            <h1 class="title">Contact Us</h1>
                            <h2 class="sub-title">One Stop Mobile App and Digital<span class="l-b"><br></span> Marketing Solutions Provider</h2>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <!--ty popoup-->

    <input type="hidden" value="@TempData["data"]" id="consubstatus" />

    <div id="pics" style="display: block; margin-top: -228px; margin-left: -300.5px;">
        <img src="https://www.appynitty.com/ty.jpg" id="picOne" style="display: none;" />
    </div>
    <!--ty popoup-->

    <div class="contact-form-section">
        <div class="container">
            <div class="content">
                <!--<div class="title">Contact Form</div>-->
            </div>
        </div>
        <form asp-action="Contact" id="form" method="post" onsubmit="return validateForm(event)" name="contact">
            <div class="container">

                <div class="form-section">
                    <div class="f-g-s">
                        <div class="form-group">
                            <input  class="form-control rounded" id="form_name" name="name" placeholder="Name" type="text">
                            <span class="text-danger error"> This field is required</span>
                        </div>
                    </div>
                    <div class="f-g-s">
                        <div class="form-group">
                            <input  class="form-control rounded" id="form_Email" name="Email" placeholder="Email Id" type="email">
                            <span class="text-danger error">A valid email address is required</span>
                        </div>
                    </div>
                    <div class="f-g-s">
                        <div class="form-group">
                            <input class="form-control rounded" id="form_MobileNo" name="MobileNo" placeholder="Phone" type="tel" maxlength="10">
                            <span class="text-danger error" id="errmsg">Phone Number is required</span>
                        </div>
                    </div>
                    <div class="f-g-s">
                        <div class="form-group">
                            <input class="form-control rounded"  id="form_Country" name="Country" placeholder="Country" type="text">
                            <span  class="text-danger error">This field is required</span>
                        </div>
                    </div>
                    <div class="f-g-s">
                        <div class="form-group">
                            <input class="form-control rounded" id="form_City" name="City" placeholder="City" type="text">
                            <span class="text-danger error">This field is required</span>
                        </div>
                    </div>
                    <div class="f-g-s">
                        <div class="form-group">
                            <input class="form-control rounded" id="form_Business" name="Business" placeholder="Business" type="text">
                            <span class="text-danger error">This field is required</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="c-f-b">
                    @*<button class="appy-btn">Let's Get in Touch</button>*@
                    <input class="appy-btn sub-b" type="submit" value="Let's Get in Touch" />
                </div>
            </div>
        </form>
        <div class="container">
            <div class="c-f-f">
                <div class="section">
                    <div class="email">
                        <a href="mailto:info@appynitty.com" title="Mail Us info@appynitty.com">
                            <span class="icon ai-email"></span>
                            info@appynitty.com
                        </a>
                    </div>
                </div>
                <div class="section">
                    <div class="mobile">
                        <a href="tel:+919209100900" title="Call Us +919209 100 900">
                            <span class="icon ai-call"></span>
                            +91 9209 100 900
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div>
        <div id="myModal" class="modal fade" role="dialog">
            <div class="modal-dialog" style="top:35%">

                <!-- Modal content-->
                <div class="modal-content">

                    @*<button type="button" class="close" data-dismiss="modal">&times;</button>*@
                    <h4 class="modal-title text-center">Thank You</h4>

                    <div class="modal-body">
                        <p class="text-center">Your Details Uploded Successfully.</p>
                        <div class="text-center"> <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button></div>
                    </div>
                    @*<div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>*@
                </div>

            </div>
        </div>
    </div>
</section>
@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}

<script>
    $(document).ready(function () {
        debugger;
        var x = document.getElementById('consubstatus').value
        if (x.length > 0) {
            $('#picOne').fadeIn('fast').delay(2000).fadeOut('fast');
        }
    });
        $(document).ready(function ()
{
            if ('@TempData["value"]' != "" || '@TempData["value"]' != null)
            {
                debugger
        if ('@TempData["value"]' == "Saved")
        {
            $("#myModal").modal('show');
        }
        else {
            $("#myModal").modal('hide');
        }
    }
        });

    $(document).ready(function () {
        //called when key is pressed in textbox
        $("#form_MobileNo").keypress(function (e) {
            //if the letter is not digit then display error and don't type anything
            if (e.which != 8 && e.which != 0 && (e.which < 48 || e.which > 57)) {
                //display error message
                $("#errmsg").html("Numbers Only").show().fadeOut("slow");
                return false;
            }
        });
    });



//    $(document).ready(function() {
//	//jQuery code goes here
//});

//$('#contact_name').on('input', function() {
//});

// Name can't be blank
    $('#form_name').on('input', function() {
	var input=$(this);
	var is_name=input.val();
        if (is_name) {
            input.removeClass("invalid").addClass("valid");
            //$("#form input[name='__RequestVerificationToken']").addClass('valid');
            //$("#form input[name='__RequestVerificationToken']").attr('id','form___RequestVerificationToken');
        }
	else{input.removeClass("valid").addClass("invalid");}
});

// Email must be an email
    $('#form_Email').on('input', function() {
	var input=$(this);
    var re = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;
	var is_email=re.test(input.val());
	if(is_email){input.removeClass("invalid").addClass("valid");}
	else{input.removeClass("valid").addClass("invalid");}
});


    //mobile
    $('#form_MobileNo').keyup(function (event) {
        var input = $(this);
        var message = $(this).val();
        console.log(message);
        if (message) { input.removeClass("invalid").addClass("valid"); }
        else { input.removeClass("valid").addClass("invalid"); }
    });


//Country
    $('#form_Country').keyup(function(event) {
	var input=$(this);
	var message=$(this).val();
	console.log(message);
	if(message){input.removeClass("invalid").addClass("valid");}
	else{input.removeClass("valid").addClass("invalid");}
});
    //city
    $('#form_City').keyup(function (event) {
        var input = $(this);
        var message = $(this).val();
        console.log(message);
        if (message) { input.removeClass("invalid").addClass("valid"); }
        else { input.removeClass("valid").addClass("invalid"); }
    });
    //Bussness
    $('#form_Business').keyup(function (event) {
        var input = $(this);
        var message = $(this).val();
        console.log(message);
        if (message) { input.removeClass("invalid").addClass("valid"); }
        else { input.removeClass("valid").addClass("invalid"); }
    });
   
//$("#contact_submit button").click(function(event){
//});

// After Form Submitted Validation
    $(".sub-b").click(function (event) {
       // console.log('clicl')
        //$("#form input[name='__RequestVerificationToken']").addClass('valid');
        //$("#form input[name='__RequestVerificationToken']").attr('id','form___RequestVerificationToken');
       // debugger
        
        var form_data = $("#form").serializeArray();
	var error_free=true;
	for (var input in form_data){
        var element = $("#form_" + form_data[input]['name']);
        console.log(element)
        var valid = element.hasClass("valid");
       
        $("#form input[name='__RequestVerificationToken']").remove();
        var error_element = $("span", element.parent());
        console.log(valid)
        if (!valid) { error_element.removeClass("error").addClass("error_show"); error_free = false; console.log('umesh') }
        else { error_element.removeClass("error_show").addClass("error");  }
        }
        console.log(error_free)
        if (!error_free){
        event.preventDefault();
        //alert('not submit')
	}
	else{
		//alert('No errors: Form will be submitted');
	}
});
</script>
}